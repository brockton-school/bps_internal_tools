/* ===== Base ===== */
:root {
  --bg: #121212;
  --panel: #1e1e1e;
  --panel-2: #2a2a2a;
  --text: #e0e0e0;
  --muted: #a0a0a0;
  --brand: #ba0c2f;         /* Primary brand red */
  --brand-light: #e34b66;   /* Lighter red for gradients/hover */
  --accent: #ffd6dd;        /* Soft light pink highlight */
  --danger: #ff6b6b;
  --radius: 14px;
  --pad: 18px;
  --gap: 16px;
}

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body {
  margin: 0;
  background: radial-gradient(1200px 1200px at 10% -10%, #2a0d17 0%, transparent 55%),
              radial-gradient(1000px 800px at 100% 20%, #3b0e19 0%, transparent 60%),
              var(--bg);
  color: var(--text);
  font-family: 'Nunito Sans', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  font-weight: 500;
}

/* Light theme override */
body[data-theme="light"]{
  --bg: #ffffff;
  --panel: #ffffff;
  --panel-2: #f0f1f5;
  --text: #141824;
  --muted: #5a6578;
  --brand: #ba0c2f;
  --brand-light: #d9415d;
  --accent: #6a7284;
  --danger: #e15454;
}

/* Optional: soften backgrounds for light mode */
body[data-theme="light"] .brand {
  box-shadow: 0 4px 14px rgba(186,12,47,.20);
}
body[data-theme="light"] .card{
  border-color: rgba(14, 20, 40, .06);
  box-shadow: 0 8px 28px rgba(0,0,0,.06);
}
body[data-theme="light"] .menu{
  border-color: rgba(14, 20, 40, .08);
  box-shadow: 0 16px 36px rgba(0,0,0,.10);
}
body[data-theme="light"] .notice{
  color: #6b0f21;
  background: rgba(186,12,47,.10);
  border-color: rgba(186,12,47,.25);
}

body[data-theme="light"] {
  background: radial-gradient(circle at top left, #ffffff, #f0f1f5);
}

/* ===== Layout ===== */
.container {
  max-width: 960px;
  margin: 0 auto;
  padding: clamp(16px, 2vw, 28px);
}

.header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 10px 0 22px;
}

.logo {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--brand), var(--brand-light));
  display: grid;
  place-items: center;
  color: #fff;
  font-weight: 900;
  font-size: 1.2rem;
  box-shadow: 0 6px 22px rgba(186, 12, 47, 0.35);
}

h1 {
  font-size: clamp(22px, 3vw, 30px);
  margin: 0;
  font-weight: 800;
}

.sub {
  color: var(--muted);
  font-size: 0.95rem;
  margin-top: 2px;
}

/* Top bar */
.topbar {
  display:flex; align-items:center; justify-content:space-between;
  margin: 6px 0 18px;
}

.topbar-left { display:flex; align-items:center; gap:12px; }
.row{ display:flex; align-items:center; gap:8px; }
.brand{
  width:44px; height:44px; display:block;
}
.brand img{
  width:100%; height:100%; border-radius:12px;
}
.brand .logo-light{ display:none; }
body[data-theme="light"] .brand .logo-light{ display:block; }
body[data-theme="light"] .brand .logo-dark{ display:none; }
.titles { display:flex; flex-direction:column; }
.app-title{
  margin:0; font-size: clamp(20px, 2.6vw, 28px); font-weight:800;
}
.app-sub{ color:var(--muted); font-size:.95rem; margin-top:2px; }

/* User menu (avatar) */
.user-menu{ position:relative; }
.avatar-btn{
  width:42px; height:42px; border-radius:50%;
  background: radial-gradient(120% 120% at 30% 20%, #ffb9c7 0%, #7c0d21 70%), var(--brand);
  color:#fff; border:1px solid rgba(255,255,255,.2); cursor:pointer;
  display:grid; place-items:center; font-weight:800;
  box-shadow: 0 6px 18px rgba(186,12,47,.35);
}
.avatar-initials{ user-select:none; }

/* Avatar in light mode â€” more subtle gradient */
body[data-theme="light"] .avatar-btn {
  background: radial-gradient(
      120% 120% at 30% 20%, 
      rgba(255, 230, 235, 0.7) 0%,  /* pale pink */
      rgba(186, 12, 47, 0.9) 75%   /* brand red, less opacity */
    ), var(--brand);
  box-shadow: 0 4px 10px rgba(186,12,47,.18);
}

.menu{
  position:absolute; right:0; top: calc(100% + 8px);
  min-width: 220px;
  background: var(--panel);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  box-shadow: 0 16px 36px rgba(0,0,0,.35);
  padding: 6px;
  display:none;
  z-index:50;
}
.menu.open{ display:block; }
.menu-header{
  padding:10px 12px; color:var(--text); font-weight:700;
  border-bottom:1px solid rgba(255,255,255,.08); margin-bottom:6px;
}
.menu-item{
  display:block; width:100%; text-align:left;
  padding:10px 12px; border:none; background:transparent; color:var(--text);
  text-decoration:none; border-radius:10px; cursor:pointer;
}
.menu-item:hover{ background: rgba(186,12,47,.15); }

/* Clear red (brand) logout style, same size */
.menu-item.logout {
  color: var(--brand);
  border: 1px solid transparent;
}
.menu-item.logout:hover {
  background: rgba(186, 12, 47, .10);
  border-color: rgba(186, 12, 47, .25);
}


/* ===== Panels & Cards ===== */
.card {
  background: linear-gradient(180deg, rgba(255, 255, 255, .03), rgba(255, 255, 255, .01)), var(--panel);
  border: 1px solid rgba(255, 255, 255, .06);
  border-radius: var(--radius);
  padding: var(--pad);
  box-shadow: 0 10px 24px rgba(0, 0, 0, .25);
}

/* ===== Forms ===== */
label {
  display: block;
  margin-bottom: 8px;
  color: var(--muted);
  font-weight: 600;
}

.input, select {
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, .1);
  background: var(--panel-2);
  padding: 16px 16px;
  color: var(--text);
  font-size: 1.05rem;
  outline: none;
}

.input:focus, select:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 4px rgba(186, 12, 47, 0.2);
}

/* ===== Buttons ===== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 100%;
  padding: 16px 18px;
  margin-top: 10px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  user-select: none;
  color: #fff;
  background: linear-gradient(135deg, var(--brand), var(--brand-light));
  font-weight: 700;
  font-size: 1.05rem;
  box-shadow: 0 8px 24px rgba(186, 12, 47, 0.35);
  transition: background 0.2s ease;
}

.btn:hover {
  background: linear-gradient(135deg, var(--brand-light), var(--brand));
}

.btn.secondary {
  background: transparent;
  color: var(--text);
  border: 1px solid rgba(255, 255, 255, .16);
}

.btn.danger {
  background: linear-gradient(135deg, var(--danger), #ff8383);
  color: #1c0b0b;
}

/* ===== Autocomplete ===== */
.ac-wrap {
  position: relative;
}

.ac-list {
  position: absolute;
  inset: auto 0 0 0;
  transform: translateY(calc(100% + 8px));
  background: var(--panel);
  border: 1px solid rgba(255, 255, 255, .08);
  border-radius: 12px;
  overflow: hidden;
  padding: 6px;
  max-height: 280px;
  overflow-y: auto;
  display: none;
  z-index: 20;
  box-shadow: 0 12px 36px rgba(0, 0, 0, .35);
}

.ac-item {
  padding: 12px 12px;
  border-radius: 10px;
  cursor: pointer;
}

.ac-item:hover, .ac-item[aria-selected="true"] {
  background: rgba(186, 12, 47, .15);
}

/* ===== Lists (students) ===== */
.grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

.tile {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px;
  background: var(--panel-2);
  border: 1px solid rgba(255, 255, 255, .08);
  border-radius: 12px;
}

.tile input[type=checkbox] {
  width: 26px;
  height: 26px;
  accent-color: var(--brand);
}

/* ===== Tables ===== */
.table {
  width: 100%;
  border-collapse: collapse;
}
.table th, .table td {
  padding: 8px;
  border: 1px solid rgba(255, 255, 255, .08);
}
body[data-theme="light"] .table th,
body[data-theme="light"] .table td {
  border-color: rgba(14, 20, 40, .1);
}
.table th {
  text-align: left;
  background: var(--panel-2);
}
.table .btn {
    width: auto;
    padding: 8px 12px;
}
/* Compact table rows for dense data (non-touch) */
.table.compact th,
.table.compact td {
    padding: 4px 6px;
}
.table.compact .input,
.table.compact select {
    padding: 6px 8px;
    font-size: 0.9rem;
    border-radius: 8px;
}
.table.compact .btn {
    padding: 6px 10px;
    font-size: 0.9rem;
}
form.row-form { display: contents; }

/* ===== Messages ===== */
.notice {
  padding: 14px 16px;
  border-radius: 12px;
  margin-top: 14px;
  background: rgba(186, 12, 47, .12);
  border: 1px solid rgba(186, 12, 47, .35);
  color: #ffd9df;
}

.notice.error {
  background: rgba(255, 107, 107, .08);
  border-color: rgba(255, 107, 107, .35);
  color: #ffd9d9;
}

/* ===== Footer spacing ===== */
footer {
  margin-top: 40px;
  padding-top: 10px;
  font-size: 0.85rem;
  color: var(--muted);
  border-top: 1px solid rgba(255,255,255,.08);
  text-align: center;
}

/* ===== Error pages ===== */
.error-page {
    text-align: center;
    padding: 60px 20px;
}

.error-page h1 {
    font-size: 5rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 10px;
}

.error-page p {
    font-size: 1.25rem;
    margin-bottom: 20px;
    color: var(--muted);
}

.error-page .btn {
    font-size: 1rem;
    padding: 10px 20px;
}

/* ==== LOGIN/AUTH UI ==== */
.auth-card { max-width: 420px; margin: 40px auto; padding: 24px; background: var(--surface); border-radius: 12px; box-shadow: var(--shadow-2); }
.auth-form label { display: block; font-weight: 600; margin-bottom: 6px; }
.auth-form input { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid var(--border); }
.auth-divider { display: flex; align-items: center; gap: 12px; margin: 16px 0; }
.auth-divider::before, .auth-divider::after { content: ""; flex: 1; height: 1px; background: var(--border); }
.google-btn { display: inline-flex; align-items: center; gap: 10px; width: 100%; justify-content: center; }
.google-icon { width: 18px; height: 18px; background: url('/static/google-g.svg') no-repeat center/contain; }
